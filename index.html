<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Checklist - Instaladores</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Login Screen -->
  <div id="login-screen">
    <div class="login-box">
      <h2>Login</h2>
      <p><small>E-mail: supervisor@example.com<br/>Senha: 123456</small></p>
      <input type="email" id="login-email" value="supervisor@example.com" />
      <input type="password" id="login-password" value="123456" />
      <p class="error" id="login-error"></p>
      <button onclick="handleLogin()" class="btn">Entrar</button>
    </div>
  </div>

  <!-- App -->
  <div id="app" style="display:none;">
    <header>
      <h1>Ferramental de Instaladores</h1>
      <button onclick="signOutUser()" class="btn">Sair</button>
    </header>

    <nav>
      <button class="active" data-tab="checklist" onclick="switchTab(this)">Checklist</button>
      <button data-tab="reports" onclick="switchTab(this)">Relatórios</button>
      <button data-tab="technicians" onclick="switchTab(this)">Técnicos</button>
    </nav>

    <main>
      <!-- Checklist Tab -->
      <section id="tab-checklist" class="tab-content active">
        <select id="tech-select" onchange="loadTools(this.value)"></select>

        <div class="flex-gap">
          <input type="text" id="new-tool-name" placeholder="Nova ferramenta" />
          <button onclick="addTool()" class="btn">Adicionar</button>
        </div>

        <div id="tools-list"></div>
      </section>

      <!-- Reports Tab -->
      <section id="tab-reports" class="tab-content hidden">
        <h2>Resumo Geral</h2>
        <div class="report-summary">
          <div class="summary-card">
            <div class="summary-title">Total de Ferramentas</div>
            <div class="summary-value" id="total-tools">0</div>
          </div>
          <div class="summary-card">
            <div class="summary-title">Ferramentas OK</div>
            <div class="summary-value tool-ok" id="total-ok">0</div>
          </div>
          <div class="summary-card">
            <div class="summary-title">Ferramentas NOK</div>
            <div class="summary-value tool-nok" id="total-nok">0</div>
          </div>
          <div class="summary-card">
            <div class="summary-title">Próximos a Vencer</div>
            <div class="summary-value tool-expiring" id="total-expiring">0</div>
          </div>
          <div class="summary-card">
            <div class="summary-title">Vencidos</div>
            <div class="summary-value tool-expired" id="total-expired">0</div>
          </div>
        </div>

        <h2 class="mt-6">Análise por Técnico</h2>
        <table class="summary-table">
          <thead>
            <tr>      
              <th>Técnico</th> 
              <th>OK</th>
              <th>NOK</th>
              <th>Total</th>
              <th>Vence em 7 dias</th>
              <th>Vencido</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="report-table-body"></tbody>
        </table>
      </section>

      <!-- Technicians Tab -->
      <section id="tab-technicians" class="tab-content hidden">
        <h2>Gerenciar Técnicos</h2>
        <div class="flex-gap">
          <input type="text" id="new-tech-name" placeholder="Nome do técnico" />
          <input type="text" id="new-tech-role" placeholder="Cargo" />
          <button onclick="addTechnician()" class="btn">Adicionar</button>
        </div>
        <ul id="technicians-list"></ul>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
